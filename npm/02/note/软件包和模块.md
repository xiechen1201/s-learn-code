# 软件包和模块

公共的 npm 注册表是一个 JS 软件包的数据库，每个软件包拥有软件和元数据。开发人员可以向 npm 注册表贡献软件包，其他人可以下载使用。

## 关于包

软件包必须包含一个 package.json 文件，它是一个描述软件包的元数据文件。

软件包可以是无范围的，也可以是用户范围下或者组织范围下的。如果是范围的包可以是私有的（或者公共的）。

一个软件包可以是：

-   包件可以是包含由`package.json`文件描述的程序的文件夹。

-   也可以是包含上述文件夹的 gzipped tarball 压缩包。

-   或是解析为该压缩包的 URL。

-   还可以是在登记册上公布的`<name>@<version>`，其关联上述 URL。

-   以及指向`<name>@<version>`的`<name>@<tag>`。

-   当`<name>`有满足上述指向关系的`latest`标记时，也构成包件。

-   能克隆出包含`package.json`文件夹的 git 网址也属于包件范畴。

## 包的模块

模块是可以被 node require() 加载的，因此 package.json 文件需要包含一个 main 字段。

> 只有拥有 package.json 文件的文件夹才能称为软件包。

## 关于作用域

> 必须是 npm@2 的版本才能使用作用域。

当注册用户名或者组织的时候，会被分配一个和用户名或者组织名同名的作用域，这个作用域可以用来给软件名命名。

作用域软件包不会和其他软件包名字冲突。

当我们在工程项目安装一个作用于软件包的时候，项目的 package.json 文件会列出软件包的名字并在前面加上作用域名称。`@npm/package-name`

## 范围软件包的可见性

- 非作用域软件包总是公开的

- 作用域软件包总是有范围的

- 作用域软件包默认是私有的，必须在发布的时候通过 CLI 选项指定为公开的

## 关于公共软件包

- 非作用域软件包存放在全局公共注册表中，项目的 package.json 列出的依赖名称是 package-name

- 作用域公共软件包是属于某个用户或者组织的，项目的 package.json 列出的依赖名称是 @username/package-name 或者 @organization/package-name

## 关于私有软件包

> 必须使用 2.7.0 以上版本的 npm 才能使用私有软件包。
>
> 是付费用户或者组织账户

私有软件包只能被自己或者合作的人看见。

私有软件包总是有作用域的，作用域软件包默认是私有包